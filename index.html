<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz APP</title>
    <style>
        html {
            font-family: arial;
            font-size: 30px;
            text-align: center; 
        }

        div, ul {
            margin: 50px; 
            text-align: left;
        }

        ul {
            list-style: none;
        }

        .next {
            background-color: #671515;
            border-style: none; 
            color: #fff; 
            font-size: 40px; 
            cursor: pointer; 
            padding: 10px 20px; 
        }
        .next:hover {
            background-color: brown;
        }
    </style>
</head>
<body>
    <h1>Sprawdź się!</h1>
    <hr>
    <div id="question"></div>
    <ul id="answers"></ul>
    <button class="next" id="next" onclick="quiz.nextQuestion()">Następne pytanie</button>
    <div id="result"></div>
    <script>

    const questionData = [
        ["które z tych imion jest brzydkie?", ["Mieczysław", "Dobromir", "Włodzimierz"], 1],
        ['Z kim graniczy Polska?', ['z Madagaskarem', 'Z Litwą'], 1]
        ];

        class Question {
            #title; 
            #answers; 
            #correctAnswer; 

            constructor(question, answers, correctAnswer) {
                this.#title = question; 
                this.#answers = answers; 
                this.#correctAnswer = correctAnswer; 
            }
            get title() {
                return this.#title; 
            }

            get answers() {
                return this.#answers; 
            }

            checkAnswer(answer) {
                return this.#correctAnswer === answer; 
            }
        }

        class Quiz {
            #questions;
            #currentQuestionIndex; 
            #score; 

            constructor(questions) {
                this.#questions = questions.map((question) => new Question(question[0], question[1], question[2])); 
                this.#currentQuestionIndex = 0; 
                this.#score = 0; 
            }
        

        displayQuestion() {
            const questionElement = document.getElementById('question'); 
            const answersElement = document.getElementById('answers');
            answersElement.textContent = '';           
            questionElement.textContent = this.#questions[this.#currentQuestionIndex].title; 
            this.#questions[this.#currentQuestionIndex].answers.forEach((answer, index) => {
                const answerElement = document.createElement('li'); 
                answerElement.innerHTML = `<label><input type="radio" value=${index} name="answer"> ${answer}</label>`;
                answersElement.appendChild(answerElement); 
            }); 
        }
        nextQuestion() {
            const selectedAnswer = document.querySelector('input[name="answer"]:checked'); 
            
            if (selectedAnswer) { 
                const answer = parseInt(selectedAnswer.value);
                 if (this.#questions[this.#currentQuestionIndex].checkAnswer(answer)) {
                    this.#score++;
                } 
                this.#currentQuestionIndex++; 
                if (this.#currentQuestionIndex < this.#questions.length) {
                    this.displayQuestion();
                } else {
                    this.displayResult();
                }
            }
                else {
                    alert('nie udzieliłeś odpowiedzi');
                }}
               
            displayResult() {
                const resultElement = document.querySelector('#result');
                resultElement.textContent = `Twój wynik ${this.#score} / ${this.#questions.length}`
            }
        
        }
        const quiz = new Quiz(questionData);
        quiz.displayQuestion();
    </script>
</body>
</html>