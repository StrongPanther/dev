<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>App Face Generator</title>
    <style>

    </style>
</head>
<body>
    <form id="form">
        <select id="gender">
            <option value="female">Kobieta</option>
            <option value="male">Mężczyzna</option>
        </select>
        <select id="ethnicity">
            <option value="european">Europejczyk</option>
            <option value="african">Afrykańczyk</option>
            <option value="east_asian">Azjata</option>
        </select>
        <label><input type="text" id="age" required></label>
        <button type="sumbit">Generuj twarz</button>
    </form>



    <script>
        

        const getFace = async (event) => {
            event.preventDefault();
            const gender = document.getElementById('gender').value;
            const age = document.getElementById('age').value;
            const ethnicity = document.getElementById('ethnicity').value;
        const url = `https://face-studio.p.rapidapi.com/generate?gender=${gender}&age=${age}&ethnicity=${ethnicity}`;
        const options = {
            method: 'GET',
            headers: {
                'X-RapidAPI-Key': '8e1a6b807dmsheec79492e421b3bp124c09jsnfedfdc6d49cc'
                'X-RapidAPI-Host': 'face-studio.p.rapidapi.com'
            }
        };

        try {
            const response = await fetch(url, options); 
            const result = await response.blob(); 
            const image = URL.createObjectURL(result); 
            const imageDOM = document.createElement('img');
            const parDOM = document.createElement('p');
            parDOM.textContent = url; 
            imageDOM.src = image; 
            document.body.appendChild(parDOM);
            document.body.appendChild(imageDOM);
        
        } catch (error) {
            console.error(error);
        }
    };

    document.querySelector('#form').addEventListener('submit', getFace); 

    </script>
</body>
</html>